{"ast":null,"code":"import React, { useEffect } from 'react';\nimport { useLocation } from 'react-router';\nimport { useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { userRequest } from '../requestMethods'; // const Success = () => {\n//     const location = useLocation();\n//     const data = location.state.stripeData;\n//     const cart = location.state.cart;\n//     const currentUser = useSelector((state) => state.user.currentUser);\n//     const [orderId, setOrderId] = useState(null);\n//     useEffect(() => {\n//         const createOrder = async () => {\n//           try {\n//             const res = await userRequest.post(\"/orders\", {\n//               userId: currentUser._id,\n//               products: cart.products.map((item) => ({\n//                 productId: item._id,\n//                 quantity: item._quantity,\n//               })),\n//               amount: cart.total,\n//               address: data.billing_details.address,\n//             });\n//             setOrderId(res.data._id);\n//           } catch {}\n//         };\n//         data && createOrder();\n//       }, [cart, data, currentUser]);    \n//   return (\n//     <div\n//     style={{\n//       height: \"100vh\",\n//       display: \"flex\",\n//       flexDirection: \"column\",\n//       alignItems: \"center\",\n//       justifyContent: \"center\",\n//     }}\n//   >\n//     {orderId\n//       ? `Order has been created successfully. Your order number is ${orderId}`\n//       : `Successfull. Your order is being prepared...`}\n//     <button style={{ padding: 10, marginTop: 20 }}>Go to Homepage</button>\n//   </div>\n//   );\n// };\n\nexport default Success;","map":{"version":3,"sources":["C:/Users/athar/OneDrive/Documents/Projects/Sustainable E-commerce Project/Code/UI_Frontend/src/pages/Success.jsx"],"names":["React","useEffect","useLocation","useSelector","useState","userRequest","Success"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,mBAA5B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeC,OAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useLocation } from 'react-router';\r\nimport { useSelector } from 'react-redux';\r\nimport { useState } from 'react';\r\nimport { userRequest } from '../requestMethods';\r\n\r\n// const Success = () => {\r\n//     const location = useLocation();\r\n//     const data = location.state.stripeData;\r\n//     const cart = location.state.cart;\r\n//     const currentUser = useSelector((state) => state.user.currentUser);\r\n//     const [orderId, setOrderId] = useState(null);\r\n\r\n//     useEffect(() => {\r\n//         const createOrder = async () => {\r\n//           try {\r\n//             const res = await userRequest.post(\"/orders\", {\r\n//               userId: currentUser._id,\r\n//               products: cart.products.map((item) => ({\r\n//                 productId: item._id,\r\n//                 quantity: item._quantity,\r\n//               })),\r\n//               amount: cart.total,\r\n//               address: data.billing_details.address,\r\n//             });\r\n//             setOrderId(res.data._id);\r\n//           } catch {}\r\n//         };\r\n//         data && createOrder();\r\n//       }, [cart, data, currentUser]);    \r\n\r\n\r\n  \r\n//   return (\r\n//     <div\r\n//     style={{\r\n//       height: \"100vh\",\r\n//       display: \"flex\",\r\n//       flexDirection: \"column\",\r\n//       alignItems: \"center\",\r\n//       justifyContent: \"center\",\r\n//     }}\r\n//   >\r\n//     {orderId\r\n//       ? `Order has been created successfully. Your order number is ${orderId}`\r\n//       : `Successfull. Your order is being prepared...`}\r\n//     <button style={{ padding: 10, marginTop: 20 }}>Go to Homepage</button>\r\n//   </div>\r\n//   );\r\n// };\r\n\r\nexport default Success;"]},"metadata":{},"sourceType":"module"}